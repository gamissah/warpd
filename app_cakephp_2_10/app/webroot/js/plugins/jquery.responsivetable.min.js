(function(b){var y,k,l="responsiveTable",s="Container",m="overflow",z="Static",g=m+s,n="static"+s,p="nth-child",t='<div class="',u=!1,c,q,f,h,v,A,r;b.fn.responsiveTable=function(e){function E(a,d){var w=l+"UiHint";if(0==b("#"+w).length){r=b('<div id="'+w+'">&lt;&lt; Scroll table left and right &gt;&gt;</div>');b("body").prepend(r);var B=k.height()/2;0<d.top&&0<a.height()&&(B=d.top+0.4*a.height());r.css({position:"absolute","z-index":1E6,padding:"0.5em","background-color":"#888",color:"#eee","font-size":"1.1em", "border-radius":"0.6em"}).css({top:B,left:k.width()/2-r.width()/2})}setTimeout('$("#'+w+'").hide();',e.scrollHintDuration)}function C(a){a=a.parent();return{rtc:a.parent(),oc:a,sc:a.parent().find("."+n)}}function x(a){c=C(a);c.oc.width(c.rtc.innerWidth()-c.sc.outerWidth()-1);e.scrollRight&&c.oc.scrollLeft(a.width())}function F(a){if(!a.parent().hasClass(g)){console.log("applying");var d=a.offset();a.wrap(t+l+s+'" style="'+m+':hidden;"/>');f=b("<table/>");b.each(a[0].attributes,function(a,b){"id"!== b.name&&f.attr(b.name,b.value)});f.addClass(l+z).css("border-right","ridge").width(0);a.find(">tr,>tbody>tr").each(function(a,d){h=b("<tr/>");h.outerHeight(b(d).outerHeight());b.each(b(d)[0].attributes,function(a,b){"id"!==b.name&&h.attr(b.name,b.value)});for(a=0;a<=e.staticColumns;a++)v=b(d).find(">th:"+p+"("+a+"),>td:"+p+"("+a+")"),A=v.clone(),v.css("display","none"),h.append(A),f.append(h)});a.before(f);a.wrap(t+g+'" style="float:left;'+m+":scroll;"+m+'-y:hidden;"/>');f.wrap(t+n+'" style="float:left;"/>'); e.scrollHintEnabled&&E(a,d)}x(a);c=C(a);c.sc.position().top<c.oc.position().top&&(x(a),x(a))}function G(a){a.parent().hasClass(g)&&(b("."+n).remove(),a.unwrap().unwrap().find("tr").each(function(a,c){for(a=0;a<=e.staticColumns;a++)b(c).find("th:"+p+"("+a+"),td:"+p+"("+a+")").css("display","")}))}function D(a){q=a.width();a.parent().hasClass(g)&&(q+=b("."+n).width());u=!1;a.parents().each(function(){if(!b(this).hasClass(g)&&q>b(this).width())return u=!0,!1});u?F(a):G(a)}k=b(window);y={staticColumns:1, scrollRight:!0,scrollHintEnabled:!0,scrollHintDuration:2E3};e=b.extend(y,e);return this.each(function(){var a=b(this);a.hasClass(l+z)||(k.on("resize orientationchange",function(){D(a)}),D(a))})}})(jQuery);
